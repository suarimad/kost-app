Options -MultiViews
RewriteEngine On

# Jika website ada di dalam folder (misal: localhost/dcs/), 
# hapus tanda pagar (#) baris di bawah ini:
# RewriteBase /dcs/

# --- 1. Hilangkan ekstensi .php (Redirect External) ---
# FIX: Jangan lakukan redirect jika method adalah POST (agar data form tidak hilang)
RewriteCond %{REQUEST_METHOD} !POST
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s([^.]+)\.php [NC]
RewriteRule ^ %1 [R=301,L]

# --- 2. Route Khusus ---
# Mengubah domain.com/room/slug-kamar menjadi domain.com/room.php?slug=slug-kamar
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^room/([^/]+)/?$ room.php?slug=$1 [L,QSA]

# --- 3. Handle URL tanpa ekstensi (Aturan Umum / Internal Rewrite) ---
# Ini menangani halaman list seperti /project, /services, /contact, dll.

# Jika request BUKAN folder fisik
RewriteCond %{REQUEST_FILENAME} !-d
# Tapi file dengan akhiran .php ADA (misal: project.php ada)
RewriteCond %{REQUEST_FILENAME}\.php -f
# Maka arahkan request tersebut ke file .php-nya (tanpa mengubah URL di browser)
RewriteRule ^(.*)$ $1.php [L]